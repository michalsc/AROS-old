<HTML
><HEAD
><TITLE
>Types</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.42"><LINK
REL="HOME"
TITLE="The Amiga Research OS"
HREF="book1.html"><LINK
REL="UP"
TITLE="Includes, Definitions and General Programming Issues"
HREF="chap-general.html"><LINK
REL="PREVIOUS"
TITLE="Includes, Definitions and General Programming Issues"
HREF="chap-general.html"><LINK
REL="NEXT"
TITLE="Program Execution"
HREF="x145.html"></HEAD
><BODY
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
><SPAN
CLASS="PRODUCTNAME"
>The Amiga Research OS</SPAN
></TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="chap-general.html"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 1. Includes, Definitions and General Programming Issues</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x145.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN41"
>Types</A
></H1
><P
>In <TT
CLASS="FILENAME"
>exec/types.h</TT
>
        the following short-cuts are typedef'd. They are used often in
        <SPAN
CLASS="ACRONYM"
>AROS</SPAN
>, so you should nearly always include
        <TT
CLASS="FILENAME"
>exec/types.h</TT
>.
        <P
></P
><UL
COMPACT="COMPACT"
><LI
><SPAN
><SPAN
CLASS="TYPE"
>APTR</SPAN
>: a generic pointer for multiple purposes</SPAN
></LI
><LI
><SPAN
><SPAN
CLASS="TYPE"
>STRPTR</SPAN
>: a pointer to a null-terminated string</SPAN
></LI
><LI
><SPAN
><SPAN
CLASS="TYPE"
>UQUAD</SPAN
>: unsigned 64bit variable</SPAN
></LI
><LI
><SPAN
><SPAN
CLASS="TYPE"
>QUAD</SPAN
>: signed 64bit variable</SPAN
></LI
><LI
><SPAN
><SPAN
CLASS="TYPE"
>DOUBLE</SPAN
>: 64bit <SPAN
CLASS="ACRONYM"
>IEEE</SPAN
> floating point variable</SPAN
></LI
><LI
><SPAN
><SPAN
CLASS="TYPE"
>ULONG</SPAN
>: unsigned 32bit variable (longword)</SPAN
></LI
><LI
><SPAN
><SPAN
CLASS="TYPE"
>LONG</SPAN
>: signed 32bit variable (longword)</SPAN
></LI
><LI
><SPAN
><SPAN
CLASS="TYPE"
>FLOAT</SPAN
>: 32bit <SPAN
CLASS="ACRONYM"
>IEEE</SPAN
> floating point variable</SPAN
></LI
><LI
><SPAN
><SPAN
CLASS="TYPE"
>UWORD</SPAN
>: unsigned 16bit variable (word)</SPAN
></LI
><LI
><SPAN
><SPAN
CLASS="TYPE"
>WORD</SPAN
>: signed 16bit variable (word)</SPAN
></LI
><LI
><SPAN
><SPAN
CLASS="TYPE"
>UBYTE</SPAN
>: unsigned 8bit variable (byte)</SPAN
></LI
><LI
><SPAN
><SPAN
CLASS="TYPE"
>BYTE</SPAN
>: signed 8bit variable (byte)</SPAN
></LI
><LI
><SPAN
><SPAN
CLASS="TYPE"
>BOOL</SPAN
>: boolean variable, <SPAN
CLASS="SYMBOL"
>TRUE</SPAN
> and <SPAN
CLASS="SYMBOL"
>FALSE</SPAN
> are also defined in <TT
CLASS="FILENAME"
>exec/types.h</TT
></SPAN
></LI
><LI
><SPAN
><SPAN
CLASS="TYPE"
>VOID</SPAN
>: void</SPAN
></LI
></UL
></P
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN95"
><SPAN
CLASS="TYPE"
>IPTR</SPAN
>s</A
></H2
><P
>There is another important typedef, <SPAN
CLASS="TYPE"
>IPTR</SPAN
>.
          It is really important in <SPAN
CLASS="ACRONYM"
>AROS</SPAN
>, as it the only
          way to declare a field that can contain both: an integer and a pointer.
          </P
><DIV
CLASS="NOTE"
><BLOCKQUOTE
CLASS="NOTE"
><P
><B
>Note: </B
>AmigaOS does not know this typedef. If you are porting a
            program from AmigaOS to <SPAN
CLASS="ACRONYM"
>AROS</SPAN
>,
            you have to search your source for occurences of
            <SPAN
CLASS="TYPE"
>ULONG</SPAN
>s that can also contain pointers, and change them
            into <SPAN
CLASS="TYPE"
>IPTR</SPAN
>s. If you don't do this, your program will
            not work on systems, which have pointers with more than 32 bits
            (for example <SPAN
CLASS="PRODUCTNAME"
><SPAN
CLASS="ACRONYM"
>DEC</SPAN
> Alpha</SPAN
>s
            that have 64bit pointers).</P
></BLOCKQUOTE
></DIV
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN108"
><SPAN
CLASS="TYPE"
>BPTR</SPAN
>s</A
></H2
><P
>The so-called <SPAN
CLASS="TYPE"
>BPTR</SPAN
>s were always a problem
          in AmigaOS and this problem was inherited by <SPAN
CLASS="ACRONYM"
>AROS</SPAN
>.
          In binary-compatible <SPAN
CLASS="ACRONYM"
>AROS</SPAN
> versions a
          <SPAN
CLASS="TYPE"
>BPTR</SPAN
> is in fact the fourth of the real pointer.
          If, for example, a pointer points to address
          <TT
CLASS="LITERAL"
>$80000</TT
>, the <SPAN
CLASS="TYPE"
>BPTR</SPAN
>, pointing to the
          same address would contain <TT
CLASS="LITERAL"
>$20000</TT
>.
          On systems without binary-compatibility, a <SPAN
CLASS="TYPE"
>BPTR</SPAN
> is
          equal to an <SPAN
CLASS="TYPE"
>APTR</SPAN
>.</P
><P
>To convert between a normal pointer and a <SPAN
CLASS="TYPE"
>BPTR</SPAN
>,
          use the macros
          <DIV
CLASS="FUNCSYNOPSIS"
><P
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="FUNCSYNOPSISINFO"
>#include &#60;dos/bptr.h&#62;</PRE
></TD
></TR
></TABLE
><P
><CODE
><CODE
CLASS="FUNCDEF"
>APTR <B
CLASS="FSFUNC"
>MKBADDR</B
></CODE
>(BPTR <VAR
CLASS="PDPARAM"
>bptr</VAR
>);</CODE
></P
><P
><CODE
><CODE
CLASS="FUNCDEF"
>BPTR <B
CLASS="FSFUNC"
>BADDR</B
></CODE
>(APTR <VAR
CLASS="PDPARAM"
>ptr</VAR
>);</CODE
></P
><P
></P
></DIV
>
          </P
><P
>There also exists something called <SPAN
CLASS="TYPE"
>BSTR</SPAN
>, a special
          kind of string. We will not dicuss this here, though, because it is
          used only very rarely.</P
><TABLE
CLASS="SIDEBAR"
BORDER="1"
CELLPADDING="5"
><TR
><TD
><DIV
CLASS="SIDEBAR"
><P
><B
>History</B
></P
><P
>When the development of the Amiga started, it was designed
            as a pure module-based games-console. As such it didn't need any
            means of filesystem handling. The OS was created without it in
            mind. But Commodore, who bought the Amiga, wanted a full-fletched
            home-computer instead of another games-platform. So, a short time
            before the Amiga's initial presentation, a filesystem was needed.
            Instead of wasting time in developing a custom one, the filesystem
            of an operating systm called <SPAN
CLASS="ACRONYM"
>TRIPOS</SPAN
> was ported
            to the Amiga. Unfortunately <SPAN
CLASS="ACRONYM"
>TRIPOS</SPAN
> was written
            in <SPAN
CLASS="ACRONYM"
>BCPL</SPAN
>, a programming language with a quite
            eccentric pointer handling. This pointer handling was inherited
            by the AmigaDOS and later by <SPAN
CLASS="ACRONYM"
>AROS</SPAN
> (even though
            later versions of AmigaOS and also <SPAN
CLASS="ACRONYM"
>AROS</SPAN
> are
            written in C).</P
></DIV
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="chap-general.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book1.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x145.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Includes, Definitions and General Programming Issues</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="chap-general.html"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Program Execution</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>